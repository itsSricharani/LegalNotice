<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Analysis Result</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="top-bar">
    <div class="logo">
        <a href="index.html">
            <img src="logo.png" alt="Logo">
        </a>
    </div>
</header>

<section class="content">
    <h1>Legal Notice Analysis</h1>

    <div class="results">
        <div class="result-box">
            <h3>Summary
                <button class="speaker-btn" onclick="speakText('summary')">ðŸ”Š</button>
            </h3>
            <p id="summary"></p>
            
        </div>

        <div class="result-box">
            <h3>Intent
                <button class="speaker-btn" onclick="speakText('intent')">ðŸ”Š</button>
            </h3>
            <p id="intent"></p>
        </div>

        <div class="result-box">
            <h3>Deadline
                <button class="speaker-btn" onclick="speakText('deadline')">ðŸ”Š</button>
            </h3>
            <p id="deadline"></p>
        </div>

        <div class="result-box">
            <h3>Risk
                <button class="speaker-btn" onclick="speakText('risk')">ðŸ”Š</button>
            </h3>
            <p id="risk"></p>
        </div>
    </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const storedData = sessionStorage.getItem("analysisResult");

    if (!storedData) {
        alert("No analysis data found. Please analyze a notice first.");
        window.location.href = "analyze.html";
        return;
    }

    const data = JSON.parse(storedData);

    document.getElementById("summary").innerText = data.summary || "Unknown";
    document.getElementById("intent").innerText = data.intent || "Unknown";
    document.getElementById("deadline").innerText = data.deadline || "Not found";
    document.getElementById("risk").innerText = data.risk || "Unknown";
});
</script>

<script>
window.addEventListener("load", () => {
    document.body.classList.add("loaded");
});
</script>

<script>
function speakText(elementId) {
    const text = document.getElementById(elementId).innerText.trim();
    if (!text) return;

    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = "en-IN";   // Fixed to English (India)

    // Stop any ongoing speech before starting new one
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(utterance);
}
</script>


</body>
</html>
